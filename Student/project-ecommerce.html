<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website E-commerce - VLUTaskMate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../assets/style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'vlu-red': '#dc2626',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <h1 class="text-2xl font-bold text-vlu-red">VLUTaskMate</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="relative p-2 text-gray-600 hover:text-gray-900">
                        <i class="fas fa-bell"></i>
                        <span class="absolute top-0 right-0 block h-2 w-2 rounded-full bg-vlu-red"></span>
                    </button>
                    <div class="relative">
                        <button class="flex items-center space-x-2 text-gray-700 hover:text-gray-900">
                            <img class="h-8 w-8 rounded-full bg-gray-300" src="https://via.placeholder.com/32" alt="User">
                            <span class="text-sm font-medium">Hồ Du Tuấn Đạt</span>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Project Header -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
            <div class="flex items-start justify-between mb-4">
                <div class="flex-1">
                    <div class="flex items-center space-x-3 mb-2">
                        <h1 class="text-2xl font-bold text-gray-900">Website E-commerce</h1>
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                            <i class="fas fa-crown mr-1"></i>
                            Leader
                        </span>
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
                            Đã hoàn tất
                        </span>
                    </div>
                    
                    <div class="text-gray-600 space-y-1">
                        <p><i class="fas fa-graduation-cap mr-2"></i>Học kỳ 1 - Năm học 2024-2025</p>
                        <p><i class="fas fa-users mr-2"></i>Lớp CNTT-K15</p>
                        <p><i class="fas fa-chalkboard-teacher mr-2"></i>GV: ThS. Trần Thị B</p>
                        <p><i class="fas fa-calendar mr-2"></i>01/11/2024 đến 10/11/2024</p>
                    </div>
                    
                    <p class="text-gray-700 mt-3">
                        Xây dựng website thương mại điện tử hoàn chỉnh với các tính năng đăng ký, đăng nhập, 
                        quản lý sản phẩm, giỏ hàng, thanh toán và quản lý đơn hàng.
                    </p>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 mb-6">
            <div class="border-b border-gray-200">
                <nav class="-mb-px flex space-x-8 px-6">
                    <button class="tab-btn py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium" data-tab="members">
                        <i class="fas fa-users mr-2"></i>
                        Thành viên nhóm
                    </button>
                    <button class="tab-btn py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium" data-tab="tasks">
                        <i class="fas fa-tasks mr-2"></i>
                        Nhiệm vụ
                    </button>
                    <button class="tab-btn py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium" data-tab="evaluation">
                        <i class="fas fa-chart-bar mr-2"></i>
                        Đánh giá
                    </button>
                    <button class="tab-btn py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium" data-tab="close">
                        <i class="fas fa-lock mr-2"></i>
                        Đóng dự án
                    </button>
                </nav>
            </div>

            <!-- Tab Content -->
            <div id="tabContent">
                <!-- Members Tab -->
                <div id="members" class="tab-content active">
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-lg font-semibold text-gray-900">Thành viên nhóm</h3>
                        </div>
                        
                        <div class="space-y-4">
                            <!-- Member 1 - Leader -->
                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center space-x-4">
                                    <img class="h-10 w-10 rounded-full bg-gray-300" src="https://via.placeholder.com/40" alt="Member">
                                    <div>
                                        <h4 class="font-medium text-gray-900">Hồ Du Tuấn Đạt</h4>
                                        <p class="text-sm text-gray-500">2374802010097 - 72K29CNTT01</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                        Leader
                                    </span>
                                </div>
                            </div>

                            <!-- Member 2 -->
                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center space-x-4">
                                    <img class="h-10 w-10 rounded-full bg-gray-300" src="https://via.placeholder.com/40" alt="Member">
                                    <div>
                                        <h4 class="font-medium text-gray-900">Nguyễn Văn A</h4>
                                        <p class="text-sm text-gray-500">2374802010098 - 72K29CNTT01</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                        Member
                                    </span>
                                </div>
                            </div>

                            <!-- Member 3 -->
                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center space-x-4">
                                    <img class="h-10 w-10 rounded-full bg-gray-300" src="https://via.placeholder.com/40" alt="Member">
                                    <div>
                                        <h4 class="font-medium text-gray-900">Trần Thị B</h4>
                                        <p class="text-sm text-gray-500">2374802010099 - 72K29CNTT01</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                        Member
                                    </span>
                                </div>
                            </div>

                            <!-- Member 4 -->
                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center space-x-4">
                                    <img class="h-10 w-10 rounded-full bg-gray-300" src="https://via.placeholder.com/40" alt="Member">
                                    <div>
                                        <h4 class="font-medium text-gray-900">Lê Văn C</h4>
                                        <p class="text-sm text-gray-500">2374802010100 - 72K29CNTT01</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                        Member
                                    </span>
                                </div>
                            </div>

                            <!-- Member 5 -->
                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center space-x-4">
                                    <img class="h-10 w-10 rounded-full bg-gray-300" src="https://via.placeholder.com/40" alt="Member">
                                    <div>
                                        <h4 class="font-medium text-gray-900">Phạm Thị D</h4>
                                        <p class="text-sm text-gray-500">2374802010101 - 72K29CNTT01</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                        Member
                                    </span>
                                </div>
                            </div>

                            <!-- Member 6 -->
                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center space-x-4">
                                    <img class="h-10 w-10 rounded-full bg-gray-300" src="https://via.placeholder.com/40" alt="Member">
                                    <div>
                                        <h4 class="font-medium text-gray-900">Vũ Văn E</h4>
                                        <p class="text-sm text-gray-500">2374802010102 - 72K29CNTT01</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                        Member
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tasks Tab -->
                <div id="tasks" class="tab-content hidden">
                    <div class="bg-gray-50 rounded-lg p-6">
                        <div class="text-center py-8">
                            <i class="fas fa-check-circle text-4xl text-green-500 mb-4"></i>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2">Tất cả nhiệm vụ đã hoàn thành</h3>
                            <p class="text-gray-600">Dự án đã hoàn thành tất cả các nhiệm vụ được giao</p>
                        </div>
                    </div>
                </div>

                <!-- Evaluation Tab -->
                <div id="evaluation" class="tab-content hidden">
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-lg font-semibold text-gray-900">Đánh giá thành viên</h3>
                        </div>

                        <!-- Project Status Check -->
                        <div id="evaluationStatus" class="mb-6">
                            <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                <div class="flex items-center">
                                    <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                    <div>
                                        <h4 class="font-medium text-green-900">Dự án đã hoàn thành</h4>
                                        <p class="text-sm text-green-700">Bạn có thể tiến hành đánh giá thành viên</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="space-y-6" id="evaluationContent">
                            <!-- Team Members List for Evaluation -->
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <!-- Member 1 - Leader -->
                                <div class="evaluation-member-card border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-vlu-red hover:shadow-md transition-all" data-member="Hồ Du Tuấn Đạt" data-role="Leader">
                                    <div class="text-center">
                                        <img class="h-16 w-16 rounded-full bg-gray-300 mx-auto mb-3" src="https://via.placeholder.com/64" alt="Member">
                                        <h4 class="font-medium text-gray-900">Hồ Du Tuấn Đạt</h4>
                                        <p class="text-sm text-gray-500">Leader</p>
                                        <p class="text-xs text-gray-400 mt-1">2374802010097</p>
                                    </div>
                                </div>

                                <!-- Member 2 -->
                                <div class="evaluation-member-card border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-vlu-red hover:shadow-md transition-all" data-member="Nguyễn Văn A" data-role="Member">
                                    <div class="text-center">
                                        <img class="h-16 w-16 rounded-full bg-gray-300 mx-auto mb-3" src="https://via.placeholder.com/64" alt="Member">
                                        <h4 class="font-medium text-gray-900">Nguyễn Văn A</h4>
                                        <p class="text-sm text-gray-500">Member</p>
                                        <p class="text-xs text-gray-400 mt-1">2374802010098</p>
                                    </div>
                                </div>

                                <!-- Member 3 -->
                                <div class="evaluation-member-card border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-vlu-red hover:shadow-md transition-all" data-member="Trần Thị B" data-role="Member">
                                    <div class="text-center">
                                        <img class="h-16 w-16 rounded-full bg-gray-300 mx-auto mb-3" src="https://via.placeholder.com/64" alt="Member">
                                        <h4 class="font-medium text-gray-900">Trần Thị B</h4>
                                        <p class="text-sm text-gray-500">Member</p>
                                        <p class="text-xs text-gray-400 mt-1">2374802010099</p>
                                    </div>
                                </div>

                                <!-- Member 4 -->
                                <div class="evaluation-member-card border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-vlu-red hover:shadow-md transition-all" data-member="Lê Văn C" data-role="Member">
                                    <div class="text-center">
                                        <img class="h-16 w-16 rounded-full bg-gray-300 mx-auto mb-3" src="https://via.placeholder.com/64" alt="Member">
                                        <h4 class="font-medium text-gray-900">Lê Văn C</h4>
                                        <p class="text-sm text-gray-500">Member</p>
                                        <p class="text-xs text-gray-400 mt-1">2374802010100</p>
                                    </div>
                                </div>

                                <!-- Member 5 -->
                                <div class="evaluation-member-card border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-vlu-red hover:shadow-md transition-all" data-member="Phạm Thị D" data-role="Member">
                                    <div class="text-center">
                                        <img class="h-16 w-16 rounded-full bg-gray-300 mx-auto mb-3" src="https://via.placeholder.com/64" alt="Member">
                                        <h4 class="font-medium text-gray-900">Phạm Thị D</h4>
                                        <p class="text-sm text-gray-500">Member</p>
                                        <p class="text-xs text-gray-400 mt-1">2374802010101</p>
                                    </div>
                                </div>

                                <!-- Member 6 -->
                                <div class="evaluation-member-card border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-vlu-red hover:shadow-md transition-all" data-member="Vũ Văn E" data-role="Member">
                                    <div class="text-center">
                                        <img class="h-16 w-16 rounded-full bg-gray-300 mx-auto mb-3" src="https://via.placeholder.com/64" alt="Member">
                                        <h4 class="font-medium text-gray-900">Vũ Văn E</h4>
                                        <p class="text-sm text-gray-500">Member</p>
                                        <p class="text-xs text-gray-400 mt-1">2374802010102</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Evaluation Results -->
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h4 class="font-medium text-gray-900 mb-4">Kết quả đánh giá của bạn</h4>
                                <div class="space-y-4">
                                    <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                        <div>
                                            <h5 class="font-medium text-gray-900">Nguyễn Văn A</h5>
                                            <p class="text-sm text-gray-600">Điểm trung bình: 4.5/5</p>
                                        </div>
                                        <div class="flex items-center space-x-1">
                                            <i class="fas fa-star text-yellow-400"></i>
                                            <i class="fas fa-star text-yellow-400"></i>
                                            <i class="fas fa-star text-yellow-400"></i>
                                            <i class="fas fa-star text-yellow-400"></i>
                                            <i class="far fa-star text-gray-300"></i>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                        <div>
                                            <h5 class="font-medium text-gray-900">Trần Thị B</h5>
                                            <p class="text-sm text-gray-600">Điểm trung bình: 4.2/5</p>
                                        </div>
                                        <div class="flex items-center space-x-1">
                                            <i class="fas fa-star text-yellow-400"></i>
                                            <i class="fas fa-star text-yellow-400"></i>
                                            <i class="fas fa-star text-yellow-400"></i>
                                            <i class="fas fa-star text-yellow-400"></i>
                                            <i class="far fa-star text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Close Project Tab -->
                <div id="close" class="tab-content hidden">
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <div class="text-center">
                            <i class="fas fa-check-circle text-4xl text-green-500 mb-4"></i>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2">Dự án đã hoàn thành</h3>
                            <p class="text-gray-600 mb-6">Dự án Website E-commerce đã được hoàn thành thành công</p>
                            
                            <div class="space-y-4 mb-6">
                                <div class="flex items-center justify-between p-4 border border-green-200 rounded-lg bg-green-50">
                                    <div class="flex items-center">
                                        <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                        <span class="text-gray-900">Tất cả task đã hoàn thành</span>
                                    </div>
                                    <span class="text-green-600 font-medium">✓</span>
                                </div>
                                <div class="flex items-center justify-between p-4 border border-green-200 rounded-lg bg-green-50">
                                    <div class="flex items-center">
                                        <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                        <span class="text-gray-900">Tất cả đánh giá đã gửi</span>
                                    </div>
                                    <span class="text-green-600 font-medium">✓</span>
                                </div>
                            </div>
                            
                            <button class="bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors">
                                <i class="fas fa-check mr-2"></i>
                                Dự án đã hoàn thành
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Evaluation Popup Modal -->
    <div id="evaluationModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto">
            <!-- Header -->
            <div class="flex items-center justify-between p-4 border-b border-gray-200">
                <button id="closeEvaluationModal" class="text-red-500 hover:text-red-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
                <h3 class="text-lg font-bold text-gray-900">Đánh giá thành viên</h3>
                <button class="text-blue-500 hover:text-blue-700 text-sm font-medium">
                    Hỗ trợ
                </button>
            </div>

            <!-- Content -->
            <div class="p-6">
                <!-- Member Profile -->
                <div class="text-center mb-6">
                    <img id="memberAvatar" class="h-20 w-20 rounded-full bg-gray-300 mx-auto mb-3" src="https://via.placeholder.com/80" alt="Member">
                    <h4 id="memberName" class="text-lg font-medium text-gray-900">Nguyễn Ngọc Quang Huy</h4>
                    <p id="memberRole" class="text-sm text-gray-500">Member</p>
                </div>

                <!-- Rating Stars -->
                <div class="flex justify-center space-x-2 mb-6">
                    <i class="star-rating far fa-star text-2xl text-yellow-400 cursor-pointer hover:text-yellow-500" data-rating="1"></i>
                    <i class="star-rating far fa-star text-2xl text-yellow-400 cursor-pointer hover:text-yellow-500" data-rating="2"></i>
                    <i class="star-rating far fa-star text-2xl text-yellow-400 cursor-pointer hover:text-yellow-500" data-rating="3"></i>
                    <i class="star-rating far fa-star text-2xl text-yellow-400 cursor-pointer hover:text-yellow-500" data-rating="4"></i>
                    <i class="star-rating far fa-star text-2xl text-yellow-400 cursor-pointer hover:text-yellow-500" data-rating="5"></i>
                </div>

                <!-- Comment Section -->
                <div class="mb-6">
                    <textarea id="evaluationComment" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-vlu-red focus:border-transparent resize-none" rows="4" placeholder="Thêm đánh giá"></textarea>
                </div>

                <!-- Tag Selection -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-3">Chọn tag:</label>
                    <div class="grid grid-cols-2 gap-2">
                        <button class="tag-btn px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-vlu-red hover:text-vlu-red transition-colors" data-tag="Thận thiện">
                            Thân thiện
                        </button>
                        <button class="tag-btn px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-vlu-red hover:text-vlu-red transition-colors" data-tag="Hòa đồng">
                            Hòa đồng
                        </button>
                        <button class="tag-btn px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-vlu-red hover:text-vlu-red transition-colors" data-tag="Hoạt bát">
                            Hoạt bát
                        </button>
                        <button class="tag-btn px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-vlu-red hover:text-vlu-red transition-colors" data-tag="Không hòa đồng">
                            Không hòa đồng
                        </button>
                        <button class="tag-btn px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-vlu-red hover:text-vlu-red transition-colors" data-tag="Trễ hạn">
                            Trễ hạn
                        </button>
                        <button class="tag-btn px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-vlu-red hover:text-vlu-red transition-colors" data-tag="Chủ động">
                            Chủ động
                        </button>
                        <button class="tag-btn px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-vlu-red hover:text-vlu-red transition-colors" data-tag="Tích cực">
                            Tích cực
                        </button>
                        <button class="tag-btn px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-vlu-red hover:text-vlu-red transition-colors" data-tag="Lười biếng">
                            Lười biếng
                        </button>
                    </div>
                </div>

                <!-- Submit Button -->
                <button id="submitEvaluation" class="w-full bg-vlu-red text-white py-3 rounded-lg font-medium hover:bg-red-700 transition-colors">
                    Gửi đánh giá
                </button>
            </div>
        </div>
    </div>

    <script src="../assets/script.js"></script>
    <script>
        // Evaluation functionality
        document.addEventListener('DOMContentLoaded', function() {
            const evaluationCards = document.querySelectorAll('.evaluation-member-card');
            const evaluationModal = document.getElementById('evaluationModal');
            const closeEvaluationModal = document.getElementById('closeEvaluationModal');
            const memberName = document.getElementById('memberName');
            const memberRole = document.getElementById('memberRole');
            const memberAvatar = document.getElementById('memberAvatar');
            const starRatings = document.querySelectorAll('.star-rating');
            const evaluationComment = document.getElementById('evaluationComment');
            const submitEvaluation = document.getElementById('submitEvaluation');
            const tagButtons = document.querySelectorAll('.tag-btn');

            let currentRating = 0;
            let selectedMember = '';
            let selectedTags = [];

            // Open evaluation modal when clicking on member card
            evaluationCards.forEach(card => {
                card.addEventListener('click', function() {
                    const member = this.getAttribute('data-member');
                    const role = this.getAttribute('data-role');
                    
                    selectedMember = member;
                    memberName.textContent = member;
                    memberRole.textContent = role;
                    
                    // Reset rating
                    currentRating = 0;
                    starRatings.forEach(star => {
                        star.classList.remove('fas');
                        star.classList.add('far');
                    });
                    
                    // Reset comment
                    evaluationComment.value = '';
                    
                    // Reset tags
                    selectedTags = [];
                    tagButtons.forEach(btn => {
                        btn.classList.remove('bg-vlu-red', 'text-white', 'border-vlu-red');
                        btn.classList.add('border-gray-300', 'text-gray-700');
                    });
                    
                    evaluationModal.classList.remove('hidden');
                });
            });

            // Close modal
            closeEvaluationModal.addEventListener('click', function() {
                evaluationModal.classList.add('hidden');
            });

            // Close modal when clicking outside
            evaluationModal.addEventListener('click', function(e) {
                if (e.target === evaluationModal) {
                    evaluationModal.classList.add('hidden');
                }
            });

            // Star rating functionality
            starRatings.forEach(star => {
                star.addEventListener('click', function() {
                    const rating = parseInt(this.getAttribute('data-rating'));
                    currentRating = rating;
                    
                    // Update star display
                    starRatings.forEach((s, index) => {
                        if (index < rating) {
                            s.classList.remove('far');
                            s.classList.add('fas');
                        } else {
                            s.classList.remove('fas');
                            s.classList.add('far');
                        }
                    });
                });

                // Hover effects
                star.addEventListener('mouseenter', function() {
                    const rating = parseInt(this.getAttribute('data-rating'));
                    starRatings.forEach((s, index) => {
                        if (index < rating) {
                            s.classList.remove('far');
                            s.classList.add('fas');
                        }
                    });
                });

                star.addEventListener('mouseleave', function() {
                    starRatings.forEach((s, index) => {
                        if (index < currentRating) {
                            s.classList.remove('far');
                            s.classList.add('fas');
                        } else {
                            s.classList.remove('fas');
                            s.classList.add('far');
                        }
                    });
                });
            });

            // Tag selection functionality
            tagButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const tag = this.getAttribute('data-tag');
                    
                    if (this.classList.contains('bg-vlu-red')) {
                        // Deselect tag
                        this.classList.remove('bg-vlu-red', 'text-white', 'border-vlu-red');
                        this.classList.add('border-gray-300', 'text-gray-700');
                        selectedTags = selectedTags.filter(t => t !== tag);
                    } else {
                        // Select tag
                        this.classList.remove('border-gray-300', 'text-gray-700');
                        this.classList.add('bg-vlu-red', 'text-white', 'border-vlu-red');
                        selectedTags.push(tag);
                    }
                });
            });

            // Submit evaluation
            submitEvaluation.addEventListener('click', function() {
                if (currentRating === 0) {
                    alert('Vui lòng chọn điểm đánh giá!');
                    return;
                }

                if (evaluationComment.value.trim() === '') {
                    alert('Vui lòng nhập nhận xét!');
                    return;
                }

                if (selectedTags.length === 0) {
                    alert('Vui lòng chọn ít nhất một tag!');
                    return;
                }

                // Here you would typically send the evaluation to the server
                const tagsText = selectedTags.join(', ');
                alert(`Đã gửi đánh giá cho ${selectedMember} với ${currentRating} sao!\nTags: ${tagsText}`);
                evaluationModal.classList.add('hidden');
            });
        });
    </script>
</body>
</html> 